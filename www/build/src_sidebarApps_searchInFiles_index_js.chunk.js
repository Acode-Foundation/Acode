"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkcom_foxdebug_acode"] =
	self["webpackChunkcom_foxdebug_acode"] || []).push([
	["src_sidebarApps_searchInFiles_index_js"],
	{
		/***/ "./src/sidebarApps/searchInFiles/index.js":
			/*!************************************************!*\
  !*** ./src/sidebarApps/searchInFiles/index.js ***!
  \************************************************/
			/***/ function (
				__unused_webpack_module,
				__webpack_exports__,
				__webpack_require__,
			) {
				eval(
					'{__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var html_tag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! html-tag-js */ "./node_modules/html-tag-js/dist/tag.js");\n/* harmony import */ var html_tag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(html_tag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _styles_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./styles.scss */ "./src/sidebarApps/searchInFiles/styles.scss");\n/* harmony import */ var fileSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! fileSystem */ "./src/fileSystem/index.js");\n/* harmony import */ var ace_touchHandler__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ace/touchHandler */ "./src/ace/touchHandler.js");\n/* harmony import */ var autosize__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! autosize */ "./node_modules/autosize/dist/autosize.esm.js");\n/* harmony import */ var components_checkbox__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/checkbox */ "./src/components/checkbox/index.js");\n/* harmony import */ var components_sidebar__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! components/sidebar */ "./src/components/sidebar/index.js");\n/* harmony import */ var escape_string_regexp__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! escape-string-regexp */ "./node_modules/escape-string-regexp/index.js");\n/* harmony import */ var html_tag_js_ref__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! html-tag-js/ref */ "./node_modules/html-tag-js/dist/ref.js");\n/* harmony import */ var html_tag_js_ref__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(html_tag_js_ref__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var lib_fileList__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lib/fileList */ "./src/lib/fileList.js");\n/* harmony import */ var lib_openFile__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lib/openFile */ "./src/lib/openFile.js");\n/* harmony import */ var lib_settings__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lib/settings */ "./src/lib/settings.js");\n/* harmony import */ var utils_helpers__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! utils/helpers */ "./src/utils/helpers.js");\n/* harmony import */ var _searchResultMode__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./searchResultMode */ "./src/sidebarApps/searchInFiles/searchResultMode.js");\n\n\n\n\nfunction _createForOfIteratorHelper(r, e) { var t = "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && "number" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t["return"] || t["return"](); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar workers = [];\nvar results = [];\nvar filesSearched = [];\nvar filesReplaced = [];\nvar $container = html_tag_js_ref__WEBPACK_IMPORTED_MODULE_11___default()();\nvar $regExp = html_tag_js_ref__WEBPACK_IMPORTED_MODULE_11___default()();\nvar $search = html_tag_js_ref__WEBPACK_IMPORTED_MODULE_11___default()();\nvar $replace = html_tag_js_ref__WEBPACK_IMPORTED_MODULE_11___default()();\nvar $exclude = html_tag_js_ref__WEBPACK_IMPORTED_MODULE_11___default()();\nvar $include = html_tag_js_ref__WEBPACK_IMPORTED_MODULE_11___default()();\nvar $wholeWord = html_tag_js_ref__WEBPACK_IMPORTED_MODULE_11___default()();\nvar $caseSensitive = html_tag_js_ref__WEBPACK_IMPORTED_MODULE_11___default()();\nvar $btnReplaceAll = html_tag_js_ref__WEBPACK_IMPORTED_MODULE_11___default()();\nvar $resultOverview = html_tag_js_ref__WEBPACK_IMPORTED_MODULE_11___default()();\nvar $error = [];\nvar $progress = ["0"];\nvar resultOverview = {\n  filesCount: 0,\n  matchesCount: 0,\n  reset: function reset() {\n    this.filesCount = 0;\n    this.matchesCount = 0;\n    $resultOverview.innerHTML = searchResultText(0, 0);\n    $resultOverview.classList.remove("error");\n  }\n};\nvar CASE_SENSITIVE = "search-in-files-case-sensitive";\nvar WHOLE_WORD = "search-in-files-whole-word";\nvar REG_EXP = "search-in-files-reg-exp";\nvar EXCLUDE = "search-in-files-exclude";\nvar INCLUDE = "search-in-files-include";\nvar store = {\n  get caseSensitive() {\n    return localStorage.getItem(CASE_SENSITIVE) === "true";\n  },\n  set caseSensitive(value) {\n    localStorage.setItem(CASE_SENSITIVE, value);\n  },\n  get wholeWord() {\n    return localStorage.getItem(WHOLE_WORD) === "true";\n  },\n  set wholeWord(value) {\n    return localStorage.setItem(WHOLE_WORD, value);\n  },\n  get regExp() {\n    return localStorage.getItem(REG_EXP) === "true";\n  },\n  set regExp(value) {\n    return localStorage.setItem(REG_EXP, value);\n  },\n  get exclude() {\n    return localStorage.getItem(EXCLUDE);\n  },\n  set exclude(value) {\n    return localStorage.setItem(EXCLUDE, value);\n  },\n  get include() {\n    return localStorage.getItem(INCLUDE);\n  },\n  set include(value) {\n    return localStorage.setItem(INCLUDE, value);\n  }\n};\nvar debounceSearch = utils_helpers__WEBPACK_IMPORTED_MODULE_15__["default"].debounce(searchAll, 500);\nvar useIncludeAndExclude = false;\n/**@type {AceAjax.Editor} */\nvar searchResult = null;\nvar replacing = false;\nvar newFiles = 0;\nvar searching = false;\naddEventListener($regExp, "change", onInput);\naddEventListener($wholeWord, "change", onInput);\naddEventListener($caseSensitive, "change", onInput);\naddEventListener($search, "input", onInput);\naddEventListener($include, "input", onInput);\naddEventListener($exclude, "input", onInput);\naddEventListener($btnReplaceAll, "click", replaceAll);\nlib_fileList__WEBPACK_IMPORTED_MODULE_12__["default"].on("push-file", function () {\n  if (!searching) return;\n  $error.value = strings["missed files"].replace("{count}", ++newFiles);\n});\n$container.onref = function ($el) {\n  searchResult = ace.edit($el, {\n    readOnly: true,\n    useWorker: false,\n    showLineNumbers: false,\n    fontSize: "14px",\n    mode: "ace/mode/search_result"\n  });\n  searchResult.focus = function () {};\n  $container.style.lineHeight = "1.5";\n  searchResult.session.setTabSize(1);\n  searchResult.renderer.setMargin(0, 0, -20, 0);\n  (0,ace_touchHandler__WEBPACK_IMPORTED_MODULE_6__["default"])(searchResult, true, onCursorChange);\n  searchResult.session.setUseWrapMode(true);\n};\n(0,components_sidebar__WEBPACK_IMPORTED_MODULE_9__.preventSlide)(function (target) {\n  var _$container$el;\n  return (_$container$el = $container.el) === null || _$container$el === void 0 ? void 0 : _$container$el.contains(target);\n});\n/* harmony default export */ __webpack_exports__["default"] = (["search", "searchInFiles", strings["search in files"], function (/**@type {HTMLElement} */el) {\n  el.classList.add("search-in-files");\n  el.content = ["\\n\\t\\t\\t\\t", html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()("div", "header", ["\\n\\t\\t\\t\\t\\t", html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()("div", "options", ["\\n\\t\\t\\t\\t\\t\\t", html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(components_checkbox__WEBPACK_IMPORTED_MODULE_8__["default"], {\n    ref: $caseSensitive,\n    text: "aA",\n    size: "10px",\n    checked: store.caseSensitive\n  }), "\\n\\t\\t\\t\\t\\t\\t", html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(components_checkbox__WEBPACK_IMPORTED_MODULE_8__["default"], {\n    ref: $wholeWord,\n    text: "a-z",\n    size: "10px",\n    checked: store.wholeWord\n  }), "\\n\\t\\t\\t\\t\\t\\t", html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(components_checkbox__WEBPACK_IMPORTED_MODULE_8__["default"], {\n    ref: $regExp,\n    text: ".*",\n    size: "10px",\n    checked: store.regExp\n  }), "\\n\\t\\t\\t\\t\\t"]), "\\n\\t\\t\\t\\t\\t", html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(Details, ["\\n\\t\\t\\t\\t\\t\\t", html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(Summary, ["\\n\\t\\t\\t\\t\\t\\t\\t", html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(Textarea, {\n    placeholder: strings["search"],\n    name: "search",\n    type: "search",\n    ref: $search\n  }), "\\n\\t\\t\\t\\t\\t\\t"]), "\\n\\t\\t\\t\\t\\t\\t", html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()("div", ["\\n\\t\\t\\t\\t\\t\\t\\t", html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()("button", "icon replace_all", {\n    ref: $btnReplaceAll\n  }), "\\n\\t\\t\\t\\t\\t\\t\\t", html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(Textarea, {\n    placeholder: strings["replace"],\n    name: "replace",\n    type: "search",\n    ref: $replace\n  }), "\\n\\t\\t\\t\\t\\t\\t"]), "\\n\\t\\t\\t\\t\\t"]), "\\n\\t\\t\\t\\t\\t", html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(Details, {\n    onexpand: function onexpand(expanded) {\n      useIncludeAndExclude = expanded;\n      if ($exclude.value || $include.value) {\n        onInput();\n      }\n    }\n  }, ["\\n\\t\\t\\t\\t\\t\\t", html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(Summary, {\n    className: "extras",\n    marker: false\n  }, ["\\n\\t\\t\\t\\t\\t\\t\\t...\\n\\t\\t\\t\\t\\t\\t"]), "\\n\\t\\t\\t\\t\\t\\t", html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()("input", {\n    placeholder: strings["exclude files"],\n    name: "exclude",\n    type: "search",\n    ref: $exclude,\n    value: store.exclude\n  }), "\\n\\t\\t\\t\\t\\t\\t", html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()("input", {\n    placeholder: strings["include files"],\n    name: "include",\n    type: "search",\n    ref: $include,\n    value: store.include\n  }), "\\n\\t\\t\\t\\t\\t"]), "\\n\\t\\t\\t\\t"]), "\\n\\t\\t\\t\\t", html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()("div", "search-result", ["\\n\\t\\t\\t\\t\\t", html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()("span", {\n    innerHTML: searchResultText(0, 0),\n    ref: $resultOverview\n  }), " ", "\\n\\t\\t\\t\\t\\t(", $progress, "%)\\n\\t\\t\\t\\t"]), "\\n\\t\\t\\t\\t", html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()("div", "error", [$error]), "\\n\\t\\t\\t\\t", html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()("div", "search-in-file-editor editor-container", {\n    ref: $container\n  }), "\\n\\t\\t\\t"];\n}, false,\n// show as first item\nfunction () {\n  var _searchResult;\n  (_searchResult = searchResult) === null || _searchResult === void 0 || _searchResult.resize(true);\n}]);\n\n/**\n * Worker message handler\n * @param {Event} e\n */\nfunction onWorkerMessage(_x) {\n  return _onWorkerMessage.apply(this, arguments);\n}\n/**\n * On input event handler\n * @param {InputEvent} e\n */\nfunction _onWorkerMessage() {\n  _onWorkerMessage = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__["default"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default().mark(function _callee(e) {\n    var _e$data, action, error, data, id, content, readError, editorFile, file, matches, text, index, _iterator, _step, result, _file, _text, _window$iad, _window$iad2, showAd, startedWorkers, progress, _t, _t2, _t3, _t4;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default().wrap(function (_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _e$data = e.data, action = _e$data.action, error = _e$data.error, data = _e$data.data, id = _e$data.id;\n          if (!error) {\n            _context.next = 1;\n            break;\n          }\n          window.log("error", error);\n          console.error(error);\n          return _context.abrupt("return");\n        case 1:\n          _t = action;\n          _context.next = _t === "get-file" ? 2 : _t === "search-result" ? 7 : _t === "replace-result" ? 10 : _t === "done-replacing" ? 11 : _t === "done-searching" ? 16 : _t === "progress" ? 21 : 22;\n          break;\n        case 2:\n          editorFile = editorManager.getFile(data, "uri");\n          if (!editorFile) {\n            _context.next = 3;\n            break;\n          }\n          content = editorFile.session.getValue();\n          _context.next = 6;\n          break;\n        case 3:\n          _context.prev = 3;\n          _context.next = 4;\n          return (0,fileSystem__WEBPACK_IMPORTED_MODULE_5__["default"])(data).readFile(lib_settings__WEBPACK_IMPORTED_MODULE_14__["default"].value.defaultFileEncoding);\n        case 4:\n          content = _context.sent;\n          _context.next = 6;\n          break;\n        case 5:\n          _context.prev = 5;\n          _t2 = _context["catch"](3);\n          readError = _t2;\n        case 6:\n          e.target.postMessage({\n            id: id,\n            action: "get-file",\n            data: content,\n            error: readError\n          });\n          return _context.abrupt("continue", 23);\n        case 7:\n          file = data.file, matches = data.matches, text = data.text;\n          if (matches.length) {\n            _context.next = 8;\n            break;\n          }\n          return _context.abrupt("return");\n        case 8:\n          if (!filesSearched.includes(file)) {\n            _context.next = 9;\n            break;\n          }\n          return _context.abrupt("return");\n        case 9:\n          filesSearched.push(lib_fileList__WEBPACK_IMPORTED_MODULE_12__.Tree.fromJSON(file));\n          resultOverview.filesCount += 1;\n          resultOverview.matchesCount += matches.length;\n          $resultOverview.innerHTML = searchResultText(resultOverview.filesCount, resultOverview.matchesCount);\n          index = filesSearched.length - 1;\n          results.push({\n            file: index,\n            match: null,\n            position: null\n          });\n          _searchResultMode__WEBPACK_IMPORTED_MODULE_16__.fileNames.push((0,escape_string_regexp__WEBPACK_IMPORTED_MODULE_10__["default"])(file.name));\n          forceTokenizer();\n          _iterator = _createForOfIteratorHelper(matches);\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              result = _step.value;\n              result.file = index;\n              results.push(result);\n              if (!_searchResultMode__WEBPACK_IMPORTED_MODULE_16__.words.includes(result.renderText)) {\n                _searchResultMode__WEBPACK_IMPORTED_MODULE_16__.words.push((0,escape_string_regexp__WEBPACK_IMPORTED_MODULE_10__["default"])(result.renderText));\n                forceTokenizer();\n              }\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n          searchResult.navigateFileEnd();\n          if (_searchResultMode__WEBPACK_IMPORTED_MODULE_16__.fileNames.length > 1) {\n            searchResult.insert("\\n".concat(text));\n          } else {\n            searchResult.insert(text);\n          }\n          return _context.abrupt("continue", 23);\n        case 10:\n          _file = data.file, _text = data.text;\n          filesReplaced.push(_file);\n          (0,lib_openFile__WEBPACK_IMPORTED_MODULE_13__["default"])(_file.url, {\n            render: filesSearched.length === filesReplaced.length,\n            text: _text\n          });\n          return _context.abrupt("continue", 23);\n        case 11:\n          e.target.doneReplacing = true;\n          if (!workers.find(function (worker) {\n            return worker.started && !worker.doneReplacing;\n          })) {\n            _context.next = 12;\n            break;\n          }\n          return _context.abrupt("continue", 23);\n        case 12:\n          _t3 = IS_FREE_VERSION;\n          if (!_t3) {\n            _context.next = 14;\n            break;\n          }\n          _context.next = 13;\n          return (_window$iad = window.iad) === null || _window$iad === void 0 ? void 0 : _window$iad.isLoaded();\n        case 13:\n          _t3 = _context.sent;\n        case 14:\n          if (!_t3) {\n            _context.next = 15;\n            break;\n          }\n          window.iad.show();\n        case 15:\n          terminateWorker(false);\n          replacing = false;\n          return _context.abrupt("continue", 23);\n        case 16:\n          e.target.doneSearching = true;\n          if (!workers.find(function (worker) {\n            return worker.started && !worker.doneSearching;\n          })) {\n            _context.next = 17;\n            break;\n          }\n          return _context.abrupt("continue", 23);\n        case 17:\n          showAd = results.length > 100;\n          _t4 = IS_FREE_VERSION && showAd;\n          if (!_t4) {\n            _context.next = 19;\n            break;\n          }\n          _context.next = 18;\n          return (_window$iad2 = window.iad) === null || _window$iad2 === void 0 ? void 0 : _window$iad2.isLoaded();\n        case 18:\n          _t4 = _context.sent;\n        case 19:\n          if (!_t4) {\n            _context.next = 20;\n            break;\n          }\n          window.iad.show();\n        case 20:\n          if (!results.length) {\n            searchResult.setGhostText(strings["no result"], {\n              row: 0,\n              column: 0\n            });\n          }\n          searching = false;\n          terminateWorker(false);\n          return _context.abrupt("continue", 23);\n        case 21:\n          e.target.progress = data;\n          startedWorkers = workers.filter(function (worker) {\n            return worker.started;\n          });\n          progress = Math.round(startedWorkers.reduce(function (acc, _ref5) {\n            var _ref5$progress = _ref5.progress,\n              progress = _ref5$progress === void 0 ? 0 : _ref5$progress;\n            return acc + progress;\n          }, 0) / startedWorkers.length);\n          $progress.value = progress;\n          return _context.abrupt("continue", 23);\n        case 22:\n          return _context.abrupt("continue", 23);\n        case 23:\n        case "end":\n          return _context.stop();\n      }\n    }, _callee, null, [[3, 5]]);\n  }));\n  return _onWorkerMessage.apply(this, arguments);\n}\nfunction onInput(e) {\n  if (!searchResult || replacing) return;\n  var _ref = e || {},\n    target = _ref.target;\n  if (target === $caseSensitive.el) {\n    store.caseSensitive = $caseSensitive.el.checked;\n  }\n  if (target === $wholeWord.el) {\n    store.wholeWord = $wholeWord.el.checked;\n  }\n  if (target === $regExp.el) {\n    store.regExp = $regExp.el.checked;\n  }\n  if (target === $exclude.el) {\n    store.exclude = $exclude.el.value;\n  }\n  if (target === $include.el) {\n    store.include = $include.el.value;\n  }\n  terminateWorker();\n  searching = false;\n  newFiles = 0;\n  $error.value = "";\n  results.length = 0;\n  $progress.value = 0;\n  filesSearched.length = 0;\n  resultOverview.reset();\n  searchResult.setValue("");\n  searchResult.setGhostText(strings["searching..."], {\n    row: 0,\n    column: 0\n  });\n  removeEvents();\n  debounceSearch();\n}\nfunction searchAll() {\n  return _searchAll.apply(this, arguments);\n}\n/**\n * Replaces all occurrences of the search query with the replacement text in the files.\n * Sends a message to the worker threads to perform the replacement.\n */\nfunction _searchAll() {\n  _searchAll = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__["default"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default().mark(function _callee2() {\n    var search, options, regex, allFiles;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default().wrap(function (_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          search = $search.value;\n          if (search) {\n            _context2.next = 1;\n            break;\n          }\n          searchResult.removeGhostText();\n          return _context2.abrupt("return");\n        case 1:\n          options = getOptions();\n          regex = toRegex(search, options);\n          if (regex) {\n            _context2.next = 2;\n            break;\n          }\n          searchResult.removeGhostText();\n          return _context2.abrupt("return");\n        case 2:\n          addEvents();\n          allFiles = (0,lib_fileList__WEBPACK_IMPORTED_MODULE_12__["default"])();\n          editorManager.files.forEach(function (file) {\n            var exists = allFiles.find(function (f) {\n              return f.url === file.uri;\n            });\n            if (exists) return;\n            allFiles.push(new lib_fileList__WEBPACK_IMPORTED_MODULE_12__.Tree(file.name, file.uri, false));\n          });\n          if (allFiles.length) {\n            _context2.next = 3;\n            break;\n          }\n          searchResult.removeGhostText();\n          $progress.value = 100;\n          return _context2.abrupt("return");\n        case 3:\n          searching = true;\n          _searchResultMode__WEBPACK_IMPORTED_MODULE_16__.words.length = 0;\n          _searchResultMode__WEBPACK_IMPORTED_MODULE_16__.fileNames.length = 0;\n          searchResult.setGhostText(strings["searching..."], {\n            row: 0,\n            column: 0\n          });\n          sendMessage("search-files", allFiles, regex, options);\n        case 4:\n        case "end":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return _searchAll.apply(this, arguments);\n}\nfunction replaceAll() {\n  return _replaceAll.apply(this, arguments);\n}\n/**\n * Sends a message to the worker threads to perform a specific action on a subset of files.\n *\n * @param {string} action - The action to be performed by the worker threads.\n * @param {Array<Tree>} files - The files to be processed.\n * @param {string} search - The search query.\n * @param {object} options - The search options.\n * @param {string} replace - The replacement text (if applicable).\n */\nfunction _replaceAll() {\n  _replaceAll = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__["default"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default().mark(function _callee3() {\n    var search, replace, options, regex;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default().wrap(function (_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          terminateWorker();\n          filesReplaced.length = 0;\n          search = $search.value;\n          replace = $replace.value;\n          options = getOptions();\n          if (!(!search || !replace)) {\n            _context3.next = 1;\n            break;\n          }\n          return _context3.abrupt("return");\n        case 1:\n          regex = toRegex(search, options);\n          if (regex) {\n            _context3.next = 2;\n            break;\n          }\n          return _context3.abrupt("return");\n        case 2:\n          replacing = true;\n          sendMessage("replace-files", filesSearched, regex, options, replace);\n        case 3:\n        case "end":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return _replaceAll.apply(this, arguments);\n}\nfunction sendMessage(action, files, search, options, replace) {\n  var len = workers.length;\n  var limit = Math.ceil(files.length / len);\n  for (var i = 0; i < len; i++) {\n    var worker = workers[i];\n    var offset = i * limit;\n    var filesForThisWorker = files.slice(offset, offset + limit).map(function (file) {\n      return file.toJSON();\n    });\n    if (!filesForThisWorker.length) break;\n    worker.started = true;\n    worker.postMessage({\n      action: action,\n      data: {\n        files: filesForThisWorker,\n        search: search,\n        replace: replace,\n        options: options\n      }\n    });\n  }\n}\n\n/**\n * Worker error handler\n * @param {Error} e\n */\nfunction onErrorMessage(e) {\n  console.error(e);\n}\n\n/**\n * Terminates the existing Web Workers, if any, and then initializes new ones.\n * Also sets the onmessage and onerror handlers for these workers.\n * @param {boolean} [initializeNewWorkers=true] - Whether to initialize new workers after terminating the existing ones.\n */\nfunction terminateWorker() {\n  var initializeNewWorkers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n  workers.forEach(function (worker) {\n    return worker.terminate();\n  });\n  workers.length = 0;\n  if (!initializeNewWorkers) return;\n  var len = navigator.hardwareConcurrency - 1 || 2;\n  for (var i = 0; i < len; i++) {\n    var worker = getWorker();\n    worker.onmessage = onWorkerMessage;\n    worker.onerror = onErrorMessage;\n    workers.push(worker);\n  }\n}\n\n/**\n * Creates and returns a new Web Worker that executes the code in \'searchInFilesWorker.build.js\'.\n *\n * @returns {Worker} A new Worker object that runs the code in \'searchInFilesWorker.build.js\'.\n */\nfunction getWorker() {\n  return new Worker("./js/build/searchInFilesWorker.build.js");\n}\n\n/**\n * @typedef {object} Options\n * @property {boolean} caseSensitive\n * @property {boolean} wholeWord\n * @property {boolean} regExp\n * @property {string} exclude\n * @property {string} include\n */\n\n/**\n * Retrieves the search options currently set in the user interface. This includes\n * search parameters such as \'case sensitive\', \'whole word\', \'regular expressions\',\n * \'exclude\' and \'include\' depending on whether they are checked or filled in the UI.\n *\n * Note that the \'exclude\' and \'include\' options are only retrieved when\n * the corresponding UI section is expanded (i.e., `useIncludeAndExclude` is true).\n *\n * @returns {Options}\n */\nfunction getOptions() {\n  var exclude = useIncludeAndExclude ? $exclude.el.value.trim() : "";\n  var include = useIncludeAndExclude ? $include.el.value.trim() : "";\n  var caseSensitive = $caseSensitive.el.checked;\n  var wholeWord = $wholeWord.el.checked;\n  var regExp = $regExp.el.checked;\n  return {\n    caseSensitive: caseSensitive,\n    wholeWord: wholeWord,\n    regExp: regExp,\n    exclude: exclude,\n    include: include\n  };\n}\n\n/**\n * Binds an event listener to the \'onref\' method of the specified element reference.\n *\n * @param {Ref} $ref - The element reference containing the \'onref\' method.\n * @param {string} type - The event type to listen for (e.g., \'input\', \'change\').\n * @param {Function} handler - The event handler function to be executed when the event occurs.\n * @returns {void}\n *\n * @example\n * // Add an input event listener to $search element reference\n * addEventListener($search, \'input\', debounceInput);\n */\nfunction addEventListener($ref, type, handler) {\n  $ref.onref = function ($el) {\n    $el.addEventListener(type, handler);\n  };\n}\n\n/**\n * Generates a search result text based on the number of files and matches.\n *\n * @param {number} files - The number of files searched.\n * @param {number} matches - The number of matches found.\n * @returns {string} - The search result text.\n */\nfunction searchResultText(files, matches) {\n  return strings["search result"].replace("{files}", "<strong>".concat(files, "</strong>")).replace("{matches}", "<strong>".concat(matches, "</strong>"));\n}\n\n/**\n * A function component that returns a div element with the "details" attribute.\n *\n * @param {Object} props - The properties object for the component.\n * @param {Function} props.onexpand - Callback function to be executed when the div expands.\n * @param {Array} children - An array of child elements to be inserted into the div.\n *\n * @returns {HTMLDivElement} A div element with the "details" attribute, and any child elements.\n */\nfunction Details(_ref2, children) {\n  var onexpand = _ref2.onexpand;\n  if (onexpand) onexpand(false);\n  return html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()("div", ["\\n\\t\\t\\t", children, "\\n\\t\\t"], {\n    onexpand: onexpand,\n    attr: {\n      "is": "details"\n    }\n  });\n}\n\n/**\n * A function component that returns a div element that functions as a summary.\n *\n * @param {Object} props - The properties object for the component.\n * @param {boolean} props.marker - Indicator whether a marker should be included in the div.\n * @param {string} props.className - CSS class name to be applied to the div.\n * @param {Array} children - An array of child elements to be inserted into the div.\n *\n * @returns {HTMLDivElement} A div element with a \'summary\' attribute, a marker (if specified), and any child elements.\n */\nfunction Summary(_ref3, children) {\n  var _ref3$marker = _ref3.marker,\n    marker = _ref3$marker === void 0 ? true : _ref3$marker,\n    className = _ref3.className;\n  return html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()("div", className, ["\\n\\t\\t\\t", marker ? html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()("span", "marker") : [], "\\n\\t\\t\\t", children, "\\n\\t\\t"], {\n    onclick: toggle,\n    attr: {\n      "is": "summary"\n    }\n  });\n\n  /**\n   * A function that toggles the \'open\' attribute on the parent element of the div\n   * and calls the onexpand function of the parent element if it exists.\n   *\n   * @this {HTMLElement} The div element that the function is bound to.\n   * @param {MouseEvent} e - The event object from the click event.\n   */\n  function toggle(e) {\n    if (e.target instanceof HTMLInputElement || e.target instanceof HTMLTextAreaElement || e.target instanceof HTMLSelectElement || e.target.contentEditable === "true") return;\n    var $details = this.parentElement;\n    $details.toggleAttribute("open");\n    if ($details.hasAttribute("open")) {\n      var _$details$onexpand;\n      (_$details$onexpand = $details.onexpand) === null || _$details$onexpand === void 0 || _$details$onexpand.call($details, true);\n    } else {\n      var _$details$onexpand2;\n      (_$details$onexpand2 = $details.onexpand) === null || _$details$onexpand2 === void 0 || _$details$onexpand2.call($details, false);\n    }\n  }\n}\n\n/**\n * Create a textarea element with autosize\n * @param {object} param0\n * @param {string} param0.name\n * @param {string} param0.placeholder\n * @param {Ref} param0.ref\n * @returns {HTMLTextAreaElement}\n */\nfunction Textarea(_ref4) {\n  var name = _ref4.name,\n    placeholder = _ref4.placeholder,\n    ref = _ref4.ref;\n  return (0,autosize__WEBPACK_IMPORTED_MODULE_7__["default"])(html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()("textarea", {\n    placeholder: placeholder,\n    name: name,\n    ref: ref\n  }));\n}\n\n/**\n * Converts a search string and options into a regular expression.\n *\n * @param {string} search - The search string.\n * @param {object} options - The search options.\n * @param {boolean} [options.caseSensitive=false] - Whether the search is case-sensitive.\n * @param {boolean} [options.wholeWord=false] - Whether to match whole words only.\n * @param {boolean} [options.regExp=false] - Whether the search string is a regular expression.\n * @returns {RegExp} - The regular expression created from the search string and options.\n */\nfunction toRegex(search, options) {\n  var _options$caseSensitiv = options.caseSensitive,\n    caseSensitive = _options$caseSensitiv === void 0 ? false : _options$caseSensitiv,\n    _options$wholeWord = options.wholeWord,\n    wholeWord = _options$wholeWord === void 0 ? false : _options$wholeWord,\n    _options$regExp = options.regExp,\n    regExp = _options$regExp === void 0 ? false : _options$regExp;\n  var flags = caseSensitive ? "gm" : "gim";\n  var regexString = regExp ? search : (0,escape_string_regexp__WEBPACK_IMPORTED_MODULE_10__["default"])(search);\n  if (wholeWord) {\n    var wordBoundary = "\\\\b";\n    regexString = "".concat(wordBoundary).concat(regexString).concat(wordBoundary);\n  }\n  try {\n    return new RegExp(regexString, flags);\n  } catch (error) {\n    var _error$message$split = error.message.split(/:(.*)/),\n      _error$message$split2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_error$message$split, 2),\n      message = _error$message$split2[1];\n    $resultOverview.classList.add("error");\n    $resultOverview.textContent = strings["invalid regex"].replace("{message}", message || error.message);\n    return null;\n  }\n}\n\n/**\n * On cursor change event handler\n */\nfunction onCursorChange() {\n  return _onCursorChange.apply(this, arguments);\n}\n/**\n * When a file is added or removed from the file list\n * @param {import(\'lib/fileList\').Tree} tree\n */\nfunction _onCursorChange() {\n  _onCursorChange = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__["default"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default().mark(function _callee4() {\n    var line, result, file, position, url, _editorManager, editor;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default().wrap(function (_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          line = searchResult.selection.getCursor().row;\n          result = results[line];\n          if (result) {\n            _context4.next = 1;\n            break;\n          }\n          return _context4.abrupt("return");\n        case 1:\n          file = result.file, position = result.position;\n          if (position) {\n            _context4.next = 2;\n            break;\n          }\n          // fold the file\n          searchResult.execCommand("toggleFoldWidget");\n          return _context4.abrupt("return");\n        case 2:\n          components_sidebar__WEBPACK_IMPORTED_MODULE_9__["default"].hide();\n          url = filesSearched[file].url;\n          _context4.next = 3;\n          return (0,lib_openFile__WEBPACK_IMPORTED_MODULE_13__["default"])(url, {\n            render: true\n          });\n        case 3:\n          _editorManager = editorManager, editor = _editorManager.editor;\n          editor.moveCursorTo(position.start.row, position.start.column, false);\n          editor.selection.setRange(position);\n          editor.centerSelection();\n          editor.focus();\n        case 4:\n        case "end":\n          return _context4.stop();\n      }\n    }, _callee4);\n  }));\n  return _onCursorChange.apply(this, arguments);\n}\nfunction onFileUpdate(tree) {\n  if (!tree || tree !== null && tree !== void 0 && tree.children) return;\n  onInput();\n}\n\n/**\n * Add event listeners to file changes\n */\nfunction addEvents() {\n  lib_fileList__WEBPACK_IMPORTED_MODULE_12__["default"].on("add-file", onFileUpdate);\n  lib_fileList__WEBPACK_IMPORTED_MODULE_12__["default"].on("remove-file", onFileUpdate);\n  lib_fileList__WEBPACK_IMPORTED_MODULE_12__["default"].on("add-folder", onInput);\n  lib_fileList__WEBPACK_IMPORTED_MODULE_12__["default"].on("remove-folder", onInput);\n  lib_fileList__WEBPACK_IMPORTED_MODULE_12__["default"].on("refresh", onInput);\n  editorManager.on("rename-file", onInput);\n  editorManager.on("file-content-changed", onInput);\n}\n\n/**\n * Remove event listeners to file changes\n */\nfunction removeEvents() {\n  lib_fileList__WEBPACK_IMPORTED_MODULE_12__["default"].off("add-file", onFileUpdate);\n  lib_fileList__WEBPACK_IMPORTED_MODULE_12__["default"].off("remove-file", onFileUpdate);\n  lib_fileList__WEBPACK_IMPORTED_MODULE_12__["default"].off("add-folder", onInput);\n  lib_fileList__WEBPACK_IMPORTED_MODULE_12__["default"].off("remove-folder", onInput);\n  lib_fileList__WEBPACK_IMPORTED_MODULE_12__["default"].off("refresh", onInput);\n  editorManager.off("rename-file", onInput);\n  editorManager.off("file-content-changed", onInput);\n}\nfunction forceTokenizer() {\n  var _searchResult2 = searchResult,\n    session = _searchResult2.session;\n  // force recreation of tokenizer\n  session.$mode.$tokenizer = null;\n  session.bgTokenizer.setTokenizer(session.$mode.getTokenizer());\n  // force re-highlight whole document\n  var row = session.getLength() - 1;\n  session.bgTokenizer.start(row);\n}\n\n//# sourceURL=webpack://com.foxdebug.acode/./src/sidebarApps/searchInFiles/index.js?\n}',
				);

				/***/
			},

		/***/ "./src/sidebarApps/searchInFiles/searchResultMode.js":
			/*!***********************************************************!*\
  !*** ./src/sidebarApps/searchInFiles/searchResultMode.js ***!
  \***********************************************************/
			/***/ function (
				__unused_webpack_module,
				__webpack_exports__,
				__webpack_require__,
			) {
				eval(
					'{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fileNames: function() { return /* binding */ fileNames; },\n/* harmony export */   words: function() { return /* binding */ words; }\n/* harmony export */ });\nvar words = [];\nvar fileNames = [];\nace.define("ace/mode/search_result_highlight_rules", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text_highlight_rules"], function (require, exports, module) {\n  var oop = require("../lib/oop");\n  var _require = require("./text_highlight_rules"),\n    TextHighlightRules = _require.TextHighlightRules;\n  function SearchHighlightRules() {\n    this.$rules = {\n      start: [{\n        token: "file_name",\n        get regex() {\n          return fileNames.join("|");\n        }\n      }, {\n        token: "highlight",\n        get regex() {\n          return words.join("|");\n        }\n      }, {\n        token: "string",\n        // multi line string start\n        regex: /[|>][-+\\d]*(?:$|\\s+(?:$|#))/,\n        onMatch: function onMatch(val, state, stack, line) {\n          line = line.replace(/ #.*/, "");\n          var indent = /^ *((:\\s*)?-(\\s*[^|>])?)?/.exec(line)[0].replace(/\\S\\s*$/, "").length;\n          var indentationIndicator = Number.parseInt(/\\d+[\\s+-]*$/.exec(line));\n          if (indentationIndicator) {\n            indent += indentationIndicator - 1;\n            this.next = "mlString";\n          } else {\n            this.next = "mlStringPre";\n          }\n          if (!stack.length) {\n            stack.push(this.next);\n            stack.push(indent);\n          } else {\n            stack[0] = this.next;\n            stack[1] = indent;\n          }\n          return this.token;\n        },\n        next: "mlString"\n      }],\n      mlStringPre: [{\n        token: "indent",\n        regex: /^ *$/\n      }, {\n        token: "indent",\n        regex: /^ */,\n        onMatch: function onMatch(val, state, stack) {\n          var curIndent = stack[1];\n          if (curIndent >= val.length) {\n            this.next = "start";\n            stack.shift();\n            stack.shift();\n          } else {\n            stack[1] = val.length - 1;\n            this.next = stack[0] = "mlString";\n          }\n          return this.token;\n        },\n        next: "mlString"\n      }],\n      mlString: [{\n        token: "indent",\n        regex: /^ *$/\n      }, {\n        token: "indent",\n        regex: /^ */,\n        onMatch: function onMatch(val, state, stack) {\n          var curIndent = stack[1];\n          if (curIndent >= val.length) {\n            this.next = "start";\n            stack.splice(0);\n          } else {\n            this.next = "mlString";\n          }\n          return this.token;\n        },\n        next: "mlString"\n      }]\n    };\n    this.normalizeRules();\n  }\n  oop.inherits(SearchHighlightRules, TextHighlightRules);\n  exports.SearchHighlightRules = SearchHighlightRules;\n});\ndefine("ace/mode/folding/search_result_fold", ["require", "exports", "module", "ace/lib/oop", "ace/mode/folding/fold_mode", "ace/range"], function (require, exports, module) {\n  var oop = require("ace/lib/oop");\n  var _require2 = require("./fold_mode"),\n    BaseFoldMode = _require2.FoldMode;\n  var _require3 = require("ace/range"),\n    Range = _require3.Range;\n  function FoldMode() {}\n  oop.inherits(FoldMode, BaseFoldMode);\n  exports.FoldMode = FoldMode;\n  (function () {\n    this.getFoldWidgetRange = function (session, foldStyle, row) {\n      var range = this.indentationBlock(session, row);\n      if (range) return range;\n      var re = /\\S/;\n      var line = session.getLine(row);\n      var startLevel = line.search(re);\n      if (startLevel === -1 || line[startLevel] !== "#") return;\n      var startColumn = line.length;\n      var maxRow = session.getLength();\n      var startRow = row;\n      var endRow = row;\n      while (++row < maxRow) {\n        line = session.getLine(row);\n        var level = line.search(re);\n        if (level === -1) continue;\n        if (line[level] !== "#") break;\n        endRow = row;\n      }\n      if (endRow > startRow) {\n        var endColumn = session.getLine(endRow).length;\n        return new Range(startRow, startColumn, endRow, endColumn);\n      }\n    };\n    this.getFoldWidget = function (session, foldStyle, row) {\n      var line = session.getLine(row);\n      var indent = line.search(/\\S/);\n      var next = session.getLine(row + 1);\n      var prev = session.getLine(row - 1);\n      var prevIndent = prev.search(/\\S/);\n      var nextIndent = next.search(/\\S/);\n      if (indent === -1) {\n        session.foldWidgets[row - 1] = prevIndent !== -1 && prevIndent < nextIndent ? "start" : "";\n        return "";\n      }\n      if (prevIndent === -1) {\n        if (indent === nextIndent && line[indent] === "#" && next[indent] === "#") {\n          session.foldWidgets[row - 1] = "";\n          session.foldWidgets[row + 1] = "";\n          return "start";\n        }\n      } else if (prevIndent === indent && line[indent] === "#" && prev[indent] === "#") {\n        if (session.getLine(row - 2).search(/\\S/) === -1) {\n          session.foldWidgets[row - 1] = "start";\n          session.foldWidgets[row + 1] = "";\n          return "";\n        }\n      }\n      if (prevIndent !== -1 && prevIndent < indent) session.foldWidgets[row - 1] = "start";else session.foldWidgets[row - 1] = "";\n      if (indent < nextIndent) return "start";else return "";\n    };\n  }).call(FoldMode.prototype);\n});\nace.define("ace/mode/search_result", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text", "ace/mode/folding/search_result_fold", "ace/search_result_highlight_rules"], function (require, exports, module) {\n  var oop = require("ace/lib/oop");\n  var _require4 = require("./text"),\n    TextMode = _require4.Mode;\n  var _require5 = require("./search_result_highlight_rules"),\n    SearchHighlightRules = _require5.SearchHighlightRules;\n  var _require6 = require("./folding/search_result_fold"),\n    FoldMode = _require6.FoldMode;\n  function Mode() {\n    this.$id = "ace/mode/search_result";\n    this.HighlightRules = SearchHighlightRules;\n    this.foldingRules = new FoldMode();\n  }\n  oop.inherits(Mode, TextMode);\n  exports.Mode = Mode;\n});\n\n//# sourceURL=webpack://com.foxdebug.acode/./src/sidebarApps/searchInFiles/searchResultMode.js?\n}',
				);

				/***/
			},

		/***/ "./src/sidebarApps/searchInFiles/styles.scss":
			/*!***************************************************!*\
  !*** ./src/sidebarApps/searchInFiles/styles.scss ***!
  \***************************************************/
			/***/ function (
				__unused_webpack_module,
				__webpack_exports__,
				__webpack_require__,
			) {
				eval(
					"{__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n\n\n//# sourceURL=webpack://com.foxdebug.acode/./src/sidebarApps/searchInFiles/styles.scss?\n}",
				);

				/***/
			},
	},
]);

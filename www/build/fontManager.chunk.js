"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkcom_foxdebug_acode"] =
	self["webpackChunkcom_foxdebug_acode"] || []).push([
	["fontManager"],
	{
		/***/ "./src/pages/fontManager/fontManager.js":
			/*!**********************************************!*\
  !*** ./src/pages/fontManager/fontManager.js ***!
  \**********************************************/
			/***/ function (
				__unused_webpack_module,
				__webpack_exports__,
				__webpack_require__,
			) {
				eval(
					'{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": function() { return /* binding */ fontManager; }\n/* harmony export */ });\n/* harmony import */ var html_tag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! html-tag-js */ "./node_modules/html-tag-js/dist/tag.js");\n/* harmony import */ var html_tag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(html_tag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _style_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./style.scss */ "./src/pages/fontManager/style.scss");\n/* harmony import */ var fileSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! fileSystem */ "./src/fileSystem/index.js");\n/* harmony import */ var components_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! components/page */ "./src/components/page.js");\n/* harmony import */ var components_searchbar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! components/searchbar */ "./src/components/searchbar/index.js");\n/* harmony import */ var components_toast__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! components/toast */ "./src/components/toast/index.js");\n/* harmony import */ var dialogs_alert__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! dialogs/alert */ "./src/dialogs/alert.js");\n/* harmony import */ var dialogs_box__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! dialogs/box */ "./src/dialogs/box.js");\n/* harmony import */ var dialogs_confirm__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! dialogs/confirm */ "./src/dialogs/confirm.js");\n/* harmony import */ var dialogs_loader__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! dialogs/loader */ "./src/dialogs/loader.js");\n/* harmony import */ var dialogs_prompt__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! dialogs/prompt */ "./src/dialogs/prompt.js");\n/* harmony import */ var html_tag_js_ref__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! html-tag-js/ref */ "./node_modules/html-tag-js/dist/ref.js");\n/* harmony import */ var html_tag_js_ref__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(html_tag_js_ref__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var lib_actionStack__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lib/actionStack */ "./src/lib/actionStack.js");\n/* harmony import */ var lib_fonts__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lib/fonts */ "./src/lib/fonts.js");\n/* harmony import */ var lib_settings__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lib/settings */ "./src/lib/settings.js");\n/* harmony import */ var pages_fileBrowser__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! pages/fileBrowser */ "./src/pages/fileBrowser/index.js");\n/* harmony import */ var utils_helpers__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! utils/helpers */ "./src/utils/helpers.js");\n/* harmony import */ var utils_Url__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! utils/Url */ "./src/utils/Url.js");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction fontManager() {\n  var _strings$fonts;\n  var defaultFont = "Roboto Mono";\n  var $page = (0,components_page__WEBPACK_IMPORTED_MODULE_5__["default"])((_strings$fonts = strings.fonts) === null || _strings$fonts === void 0 ? void 0 : _strings$fonts.capitalize());\n  var $search = html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()("span", "icon search", {\n    attr: {\n      "action": "search"\n    }\n  });\n  var $addFont = html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()("span", "icon add", {\n    attr: {\n      "action": "add-font"\n    }\n  });\n  var list = html_tag_js_ref__WEBPACK_IMPORTED_MODULE_13___default()();\n  lib_actionStack__WEBPACK_IMPORTED_MODULE_14__["default"].push({\n    id: "fontManager",\n    action: function action() {\n      $page.hide();\n      $page.removeEventListener("click", clickHandler);\n    }\n  });\n  $page.onhide = function () {\n    utils_helpers__WEBPACK_IMPORTED_MODULE_18__["default"].hideAd();\n    lib_actionStack__WEBPACK_IMPORTED_MODULE_14__["default"].remove("fontManager");\n  };\n  $page.body = html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()("div", "main list", {\n    ref: list\n  });\n  $page.querySelector("header").append($search, $addFont);\n  app.append($page);\n  renderFonts();\n  utils_helpers__WEBPACK_IMPORTED_MODULE_18__["default"].showAd();\n  $page.addEventListener("click", clickHandler);\n  function renderFonts() {\n    var _$currentItem;\n    var fontNames = lib_fonts__WEBPACK_IMPORTED_MODULE_15__["default"].getNames();\n    var currentFont = lib_settings__WEBPACK_IMPORTED_MODULE_16__["default"].value.editorFont || "Roboto Mono";\n    var $currentItem;\n    var content = fontNames.map(function (fontName) {\n      var isCurrent = fontName === currentFont;\n      var $item = html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(FontItem, {\n        onDelete: function onDelete() {\n          return deleteFont(fontName);\n        },\n        onSelect: function onSelect() {\n          return selectFont(fontName);\n        },\n        isCurrent: isCurrent,\n        name: fontName\n      });\n      if (isCurrent) $currentItem = $item;\n      return $item;\n    });\n    list.el.content = content;\n    (_$currentItem = $currentItem) === null || _$currentItem === void 0 || _$currentItem.scrollIntoView();\n  }\n  function clickHandler(_x) {\n    return _clickHandler.apply(this, arguments);\n  }\n  function _clickHandler() {\n    _clickHandler = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["default"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().mark(function _callee(e) {\n      var $target, action, _t;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().wrap(function (_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            $target = e.target;\n            if ($target instanceof HTMLElement) {\n              _context.next = 1;\n              break;\n            }\n            return _context.abrupt("return");\n          case 1:\n            action = $target.getAttribute("action") || $target.dataset.action;\n            if (action) {\n              _context.next = 2;\n              break;\n            }\n            return _context.abrupt("return");\n          case 2:\n            _t = action;\n            _context.next = _t === "search" ? 3 : _t === "add-font" ? 4 : 6;\n            break;\n          case 3:\n            (0,components_searchbar__WEBPACK_IMPORTED_MODULE_6__["default"])(list.el);\n            return _context.abrupt("continue", 6);\n          case 4:\n            _context.next = 5;\n            return addNewFont();\n          case 5:\n            return _context.abrupt("continue", 6);\n          case 6:\n          case "end":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return _clickHandler.apply(this, arguments);\n  }\n  function addNewFont() {\n    return _addNewFont.apply(this, arguments);\n  }\n  function _addNewFont() {\n    _addNewFont = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["default"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().mark(function _callee2() {\n      var _yield$FileBrowser, url, name, ext, fontName, _t2;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().wrap(function (_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 1;\n            return (0,pages_fileBrowser__WEBPACK_IMPORTED_MODULE_17__["default"])("file", "Select font file (.ttf, .otf, .woff)", false);\n          case 1:\n            _yield$FileBrowser = _context2.sent;\n            url = _yield$FileBrowser.url;\n            name = _yield$FileBrowser.name;\n            // Check if file is a font file\n            ext = name.toLowerCase().split(".").pop();\n            if (["ttf", "otf", "woff", "woff2"].includes(ext)) {\n              _context2.next = 2;\n              break;\n            }\n            (0,components_toast__WEBPACK_IMPORTED_MODULE_7__["default"])("Please select a valid font file (.ttf, .otf, .woff)");\n            return _context2.abrupt("return");\n          case 2:\n            _context2.next = 3;\n            return (0,dialogs_prompt__WEBPACK_IMPORTED_MODULE_12__["default"])("Font Name", name.replace(/\\.(ttf|otf|woff|woff2)$/i, ""));\n          case 3:\n            fontName = _context2.sent;\n            if (fontName) {\n              _context2.next = 4;\n              break;\n            }\n            return _context2.abrupt("return");\n          case 4:\n            if (!lib_fonts__WEBPACK_IMPORTED_MODULE_15__["default"].get(fontName)) {\n              _context2.next = 5;\n              break;\n            }\n            (0,components_toast__WEBPACK_IMPORTED_MODULE_7__["default"])("Font with this name already exists");\n            return _context2.abrupt("return");\n          case 5:\n            _context2.next = 6;\n            return addFontFromFile(fontName, url);\n          case 6:\n            _context2.next = 8;\n            break;\n          case 7:\n            _context2.prev = 7;\n            _t2 = _context2["catch"](0);\n            if (_t2.message !== "User cancelled") {\n              (0,components_toast__WEBPACK_IMPORTED_MODULE_7__["default"])("Failed to add font: " + _t2.message);\n            }\n          case 8:\n          case "end":\n            return _context2.stop();\n        }\n      }, _callee2, null, [[0, 7]]);\n    }));\n    return _addNewFont.apply(this, arguments);\n  }\n  function addFontFromFile(_x2, _x3) {\n    return _addFontFromFile.apply(this, arguments);\n  }\n  function _addFontFromFile() {\n    _addFontFromFile = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["default"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().mark(function _callee3(fontName, fontUrl) {\n      var FONT_DIR, fontFileName, FONT_FILE, fontData, internalUrl, css, editedCSS, _t3;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().wrap(function (_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            // Download the font to local storage first\n            dialogs_loader__WEBPACK_IMPORTED_MODULE_11__["default"].showTitleLoader();\n            FONT_DIR = utils_Url__WEBPACK_IMPORTED_MODULE_19__["default"].join(DATA_STORAGE, "fonts");\n            fontFileName = "".concat(fontName.replace(/[^a-zA-Z0-9]/g, "_"), ".ttf");\n            FONT_FILE = utils_Url__WEBPACK_IMPORTED_MODULE_19__["default"].join(FONT_DIR, fontFileName); // Create fonts directory if it doesn\'t exist\n            _context3.next = 1;\n            return (0,fileSystem__WEBPACK_IMPORTED_MODULE_4__["default"])(FONT_DIR).exists();\n          case 1:\n            if (_context3.sent) {\n              _context3.next = 2;\n              break;\n            }\n            _context3.next = 2;\n            return (0,fileSystem__WEBPACK_IMPORTED_MODULE_4__["default"])(DATA_STORAGE).createDirectory("fonts");\n          case 2:\n            _context3.next = 3;\n            return (0,fileSystem__WEBPACK_IMPORTED_MODULE_4__["default"])(fontUrl).readFile();\n          case 3:\n            fontData = _context3.sent;\n            _context3.next = 4;\n            return (0,fileSystem__WEBPACK_IMPORTED_MODULE_4__["default"])(FONT_DIR).createFile(fontFileName, fontData);\n          case 4:\n            _context3.next = 5;\n            return utils_helpers__WEBPACK_IMPORTED_MODULE_18__["default"].toInternalUri(FONT_FILE);\n          case 5:\n            internalUrl = _context3.sent;\n            // Generate CSS for the font\n            css = "@font-face {\\n  font-family: \'".concat(fontName, "\';\\n  src: url(").concat(internalUrl, ") format(\'truetype\');\\n  font-weight: normal;\\n  font-style: normal;\\n}");\n            dialogs_loader__WEBPACK_IMPORTED_MODULE_11__["default"].removeTitleLoader();\n\n            // Show CSS preview/edit dialog\n            _context3.next = 6;\n            return showCSSEditor(css, fontName);\n          case 6:\n            editedCSS = _context3.sent;\n            if (!(editedCSS === null)) {\n              _context3.next = 7;\n              break;\n            }\n            return _context3.abrupt("return");\n          case 7:\n            // User cancelled\n\n            // Add the font\n            lib_fonts__WEBPACK_IMPORTED_MODULE_15__["default"].add(fontName, editedCSS);\n            renderFonts();\n            (0,components_toast__WEBPACK_IMPORTED_MODULE_7__["default"])("Font \\"".concat(fontName, "\\" added successfully"));\n            _context3.next = 9;\n            break;\n          case 8:\n            _context3.prev = 8;\n            _t3 = _context3["catch"](0);\n            dialogs_loader__WEBPACK_IMPORTED_MODULE_11__["default"].removeTitleLoader();\n            (0,components_toast__WEBPACK_IMPORTED_MODULE_7__["default"])("Failed to add font: " + _t3.message);\n          case 9:\n          case "end":\n            return _context3.stop();\n        }\n      }, _callee3, null, [[0, 8]]);\n    }));\n    return _addFontFromFile.apply(this, arguments);\n  }\n  function showCSSEditor(_x4, _x5) {\n    return _showCSSEditor.apply(this, arguments);\n  }\n  function _showCSSEditor() {\n    _showCSSEditor = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["default"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().mark(function _callee4(css, fontName) {\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().wrap(function (_context4) {\n        while (1) switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt("return", new Promise(function (resolve) {\n              var htmlContent = "\\n\\t\\t\\t\\t<div style=\\"margin-bottom: 10px; font-size: 0.9em; opacity: 0.8;\\">\\n\\t\\t\\t\\t\\tEdit the CSS @font-face rule below:\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<textarea \\n\\t\\t\\t\\t\\tclass=\\"input font-css-editor\\" \\n\\t\\t\\t\\t\\tplaceholder=\\"Enter CSS @font-face rule...\\"\\n\\t\\t\\t\\t\\trows=\\"8\\"\\n\\t\\t\\t\\t\\tstyle=\\"font-family: ".concat(lib_settings__WEBPACK_IMPORTED_MODULE_16__["default"].value.editorFont, ", monospace; font-size: 0.85em; line-height: 1.4; resize: vertical;\\"\\n\\t\\t\\t\\t>").concat(css, "</textarea>\\n\\t\\t\\t");\n              var dialog = (0,dialogs_box__WEBPACK_IMPORTED_MODULE_9__["default"])("Edit CSS - ".concat(fontName), htmlContent, "Save", "Cancel").then(function (children) {\n                var textarea = children[0].querySelector(".font-css-editor");\n                if (textarea) {\n                  textarea.focus();\n                  textarea.select();\n                }\n              }).ok(function () {\n                var textarea = document.querySelector(".font-css-editor");\n                var value = textarea ? textarea.value : css;\n                resolve(value);\n                dialog.hide();\n              }).cancel(function () {\n                resolve(null);\n                dialog.hide();\n              });\n            }));\n          case 1:\n          case "end":\n            return _context4.stop();\n        }\n      }, _callee4);\n    }));\n    return _showCSSEditor.apply(this, arguments);\n  }\n  function selectFont(_x6) {\n    return _selectFont.apply(this, arguments);\n  }\n  function _selectFont() {\n    _selectFont = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["default"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().mark(function _callee5(fontName) {\n      var _t4;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().wrap(function (_context5) {\n        while (1) switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.prev = 0;\n            _context5.next = 1;\n            return lib_fonts__WEBPACK_IMPORTED_MODULE_15__["default"].setFont(fontName);\n          case 1:\n            lib_settings__WEBPACK_IMPORTED_MODULE_16__["default"].update({\n              editorFont: fontName\n            }, false);\n            (0,components_toast__WEBPACK_IMPORTED_MODULE_7__["default"])("Font changed to \\"".concat(fontName, "\\""));\n            renderFonts(); // Refresh to update current selection\n            _context5.next = 3;\n            break;\n          case 2:\n            _context5.prev = 2;\n            _t4 = _context5["catch"](0);\n            (0,components_toast__WEBPACK_IMPORTED_MODULE_7__["default"])("Failed to set font: " + _t4.message);\n          case 3:\n          case "end":\n            return _context5.stop();\n        }\n      }, _callee5, null, [[0, 2]]);\n    }));\n    return _selectFont.apply(this, arguments);\n  }\n  function deleteFont(_x7) {\n    return _deleteFont.apply(this, arguments);\n  }\n  function _deleteFont() {\n    _deleteFont = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["default"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().mark(function _callee6(fontName) {\n      var defaultFonts, shouldDelete, currentFont, isCurrentFont, FONT_DIR, fontFileName, FONT_FILE, fs, _currentFont, _isCurrentFont, _t5, _t6;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().wrap(function (_context6) {\n        while (1) switch (_context6.prev = _context6.next) {\n          case 0:\n            // Don\'t allow deleting default fonts\n            defaultFonts = ["Fira Code", "Roboto Mono", "MesloLGS NF Regular"];\n            if (!defaultFonts.includes(fontName)) {\n              _context6.next = 1;\n              break;\n            }\n            (0,components_toast__WEBPACK_IMPORTED_MODULE_7__["default"])("Cannot delete default fonts");\n            return _context6.abrupt("return");\n          case 1:\n            _context6.next = 2;\n            return (0,dialogs_confirm__WEBPACK_IMPORTED_MODULE_10__["default"])("Delete Font", "Are you sure you want to delete \\"".concat(fontName, "\\"?"));\n          case 2:\n            shouldDelete = _context6.sent;\n            if (!shouldDelete) {\n              _context6.next = 16;\n              break;\n            }\n            _context6.prev = 3;\n            // Check if we\'re deleting the currently active font\n            currentFont = lib_settings__WEBPACK_IMPORTED_MODULE_16__["default"].value.editorFont || "Roboto Mono";\n            isCurrentFont = fontName === currentFont; // Remove from fonts collection\n            lib_fonts__WEBPACK_IMPORTED_MODULE_15__["default"].remove(fontName);\n\n            // Try to delete the font file from storage\n            FONT_DIR = utils_Url__WEBPACK_IMPORTED_MODULE_19__["default"].join(DATA_STORAGE, "fonts");\n            fontFileName = "".concat(fontName.replace(/[^a-zA-Z0-9]/g, "_"), ".ttf");\n            FONT_FILE = utils_Url__WEBPACK_IMPORTED_MODULE_19__["default"].join(FONT_DIR, fontFileName);\n            fs = (0,fileSystem__WEBPACK_IMPORTED_MODULE_4__["default"])(FONT_FILE);\n            _context6.next = 4;\n            return fs.exists();\n          case 4:\n            if (!_context6.sent) {\n              _context6.next = 5;\n              break;\n            }\n            _context6.next = 5;\n            return fs["delete"]();\n          case 5:\n            if (!isCurrentFont) {\n              _context6.next = 7;\n              break;\n            }\n            _context6.next = 6;\n            return lib_fonts__WEBPACK_IMPORTED_MODULE_15__["default"].setFont(defaultFont);\n          case 6:\n            lib_settings__WEBPACK_IMPORTED_MODULE_16__["default"].update({\n              editorFont: defaultFont\n            }, false);\n            (0,components_toast__WEBPACK_IMPORTED_MODULE_7__["default"])("Font \\"".concat(fontName, "\\" deleted, switched to ").concat(defaultFont));\n            _context6.next = 8;\n            break;\n          case 7:\n            (0,components_toast__WEBPACK_IMPORTED_MODULE_7__["default"])("Font \\"".concat(fontName, "\\" deleted"));\n          case 8:\n            renderFonts();\n            _context6.next = 16;\n            break;\n          case 9:\n            _context6.prev = 9;\n            _t5 = _context6["catch"](3);\n            // Font removed from collection even if file deletion fails\n            _currentFont = lib_settings__WEBPACK_IMPORTED_MODULE_16__["default"].value.editorFont || "Roboto Mono";\n            _isCurrentFont = fontName === _currentFont; // If we deleted the current font, switch to default font (Roboto Mono)\n            if (!_isCurrentFont) {\n              _context6.next = 14;\n              break;\n            }\n            _context6.prev = 10;\n            _context6.next = 11;\n            return lib_fonts__WEBPACK_IMPORTED_MODULE_15__["default"].setFont(defaultFont);\n          case 11:\n            lib_settings__WEBPACK_IMPORTED_MODULE_16__["default"].update({\n              editorFont: defaultFont\n            }, false);\n            (0,components_toast__WEBPACK_IMPORTED_MODULE_7__["default"])("Font \\"".concat(fontName, "\\" deleted, switched to ").concat(defaultFont, " (file cleanup may have failed)"));\n            _context6.next = 13;\n            break;\n          case 12:\n            _context6.prev = 12;\n            _t6 = _context6["catch"](10);\n            (0,components_toast__WEBPACK_IMPORTED_MODULE_7__["default"])("Font \\"".concat(fontName, "\\" deleted, but failed to switch to ").concat(defaultFont));\n          case 13:\n            _context6.next = 15;\n            break;\n          case 14:\n            (0,components_toast__WEBPACK_IMPORTED_MODULE_7__["default"])("Font \\"".concat(fontName, "\\" deleted (file cleanup may have failed)"));\n          case 15:\n            renderFonts();\n          case 16:\n          case "end":\n            return _context6.stop();\n        }\n      }, _callee6, null, [[3, 9], [10, 12]]);\n    }));\n    return _deleteFont.apply(this, arguments);\n  }\n  function FontItem(_ref) {\n    var name = _ref.name,\n      isCurrent = _ref.isCurrent,\n      onSelect = _ref.onSelect,\n      onDelete = _ref.onDelete;\n    var defaultFonts = ["Fira Code", "Roboto Mono", "MesloLGS NF Regular"];\n    var isDefault = defaultFonts.includes(name);\n    var $item = html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()("div", "list-item ".concat(isCurrent ? "current-font" : ""), ["\\n\\t\\t\\t\\t", html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()("span", "icon text_format"), "\\n\\t\\t\\t\\t", html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()("div", "container", ["\\n\\t\\t\\t\\t\\t", html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()("div", "text", [name]), "\\n\\t\\t\\t\\t"]), "\\n\\t\\t\\t\\t", html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()("span", "icon delete ".concat(isDefault ? "disabled" : ""), {\n      title: isDefault ? "Cannot delete default font" : "Delete font",\n      attr: {\n        "data-action": "delete"\n      }\n    }), "\\n\\t\\t\\t"], {\n      tabIndex: 1,\n      attr: {\n        "data-key": name,\n        "data-action": "select-font"\n      }\n    });\n    $item.onclick = function (e) {\n      var action = e.target.dataset.action;\n      if (action === "delete" && !isDefault) {\n        e.stopPropagation();\n        onDelete();\n      } else if (!e.target.classList.contains("icon") || action === "select-font") {\n        onSelect();\n      }\n    };\n    return $item;\n  }\n}\n\n//# sourceURL=webpack://com.foxdebug.acode/./src/pages/fontManager/fontManager.js?\n}',
				);

				/***/
			},

		/***/ "./src/pages/fontManager/style.scss":
			/*!******************************************!*\
  !*** ./src/pages/fontManager/style.scss ***!
  \******************************************/
			/***/ function (
				__unused_webpack_module,
				__webpack_exports__,
				__webpack_require__,
			) {
				eval(
					"{__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n\n\n//# sourceURL=webpack://com.foxdebug.acode/./src/pages/fontManager/style.scss?\n}",
				);

				/***/
			},
	},
]);
